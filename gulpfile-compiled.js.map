{"version":3,"sources":["gulpfile.js"],"names":[],"mappings":";;AAAA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,aAAa,QAAQ,YAAR,CAAjB;AACA,IAAI,WAAW,QAAQ,UAAR,CAAf;AACA,IAAI,WAAW,QAAQ,UAAR,CAAf;AACA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,SAAS,QAAQ,qBAAR,CAAb;AACA,IAAI,IAAI,QAAQ,QAAR,CAAR;AACC,IAAI,cAAc,QAAQ,cAAR,CAAlB;AACA,IAAI,SAAS,YAAY,MAAzB;;AAED,IAAI,SAAS;AACT,eAAW,cADF;AAET,eAAW,SAFF;AAGT,gBAAY;AAHH,CAAb;;AAMA;AACA,KAAK,IAAL,CAAU,OAAV,EAAmB,UAAS,EAAT,EAAY;AAC3B,WAAO,OAAO,SAAd,EAAyB,EAAzB;AACH,CAFD;;AAIA,IAAI,OAAJ;AACA,SAAS,UAAT,GAAsB;AAClB,QAAI,CAAC,OAAL,EAAc;AACV,kBAAU,SAAS,WAAW,OAAO,SAAlB,EAA6B,EAAE,MAAF,CAAS,EAAE,OAAO,IAAT,EAAT,EAA0B,SAAS,IAAnC,CAA7B,CAAT,CAAV;AACH;AACD,WAAO,OAAP;AACH;;AAED,SAAS,MAAT,GAAkB;AACd,WAAO,aACF,SADE,CACQ,QADR,EAEF,MAFE,GAGF,EAHE,CAGC,OAHD,EAGU,UAAS,GAAT,EAAc;AAAE,gBAAQ,GAAR,CAAY,YAAY,IAAI,OAA5B;AAAuC,KAHjE,EAIF,IAJE,CAIG,OAAO,OAAO,UAAd,CAJH,EAKF,IALE,CAKG,KAAK,IAAL,CAAU,OAAO,SAAjB,CALH,EAMF,IANE,CAMG,OAAO,EAAE,QAAQ,IAAV,EAAP,CANH,CAAP;AAOH;;AAED,KAAK,IAAL,CAAU,kBAAV,EAA8B,CAAC,OAAD,CAA9B,EAAyC,YAAW;AAChD,WAAO,QAAP;AACH,CAFD;;AAIA,KAAK,IAAL,CAAU,OAAV,EAAmB,CAAC,kBAAD,CAAnB,EAAyC,YAAW;AAChD,YAAQ,IAAR,CAAa,CAAb;AACH,CAFD;;AAIA,KAAK,IAAL,CAAU,OAAV,EAAmB,CAAC,kBAAD,CAAnB,EAAyC,YAAW;;AAEhD,gBAAY;AACR,gBAAQ;AACJ,qBAAS,IADL;AAEJ,oBAAQ;AACJ,iCAAiB;AADb;AAFJ;AADA,KAAZ;;AAUA,iBAAa,EAAb,CAAgB,QAAhB,EAA0B,YAAW;AACjC,aAAK,KAAL,CAAW,kBAAX;AACH,KAFD;AAGH,CAfD;;AAiBA;AACA,KAAK,IAAL,CAAU,OAAV,EAAmB,YAAY;AAC3B,gBAAY;AACR,gBAAQ;AACJ,qBAAS;AADL;AADA,KAAZ;AAKH,CAND","file":"gulpfile-compiled.js","sourcesContent":["var gulp = require('gulp');\r\nvar fs = require('fs');\r\nvar browserify = require('browserify');\r\nvar watchify = require('watchify');\r\nvar babelify = require('babelify');\r\nvar rimraf = require('rimraf');\r\nvar source = require('vinyl-source-stream');\r\nvar _ = require('lodash');\r\n var browserSync = require('browser-sync');\r\n var reload = browserSync.reload;\r\n\r\nvar config = {\r\n    entryFile: './app/app.js',\r\n    outputDir: './dist/',\r\n    outputFile: 'app.js'\r\n};\r\n\r\n// clean the output directory\r\ngulp.task('clean', function(cb){\r\n    rimraf(config.outputDir, cb);\r\n});\r\n\r\nvar bundler;\r\nfunction getBundler() {\r\n    if (!bundler) {\r\n        bundler = watchify(browserify(config.entryFile, _.extend({ debug: true }, watchify.args)));\r\n    }\r\n    return bundler;\r\n};\r\n\r\nfunction bundle() {\r\n    return getBundler()\r\n        .transform(babelify)\r\n        .bundle()\r\n        .on('error', function(err) { console.log('Error: ' + err.message); })\r\n        .pipe(source(config.outputFile))\r\n        .pipe(gulp.dest(config.outputDir))\r\n        .pipe(reload({ stream: true }));\r\n}\r\n\r\ngulp.task('build-persistent', ['clean'], function() {\r\n    return bundle();\r\n});\r\n\r\ngulp.task('build', ['build-persistent'], function() {\r\n    process.exit(0);\r\n});\r\n\r\ngulp.task('watch', ['build-persistent'], function() {\r\n\r\n    browserSync({\r\n        server: {\r\n            baseDir: './',\r\n            routes: {\r\n                \"/autoplushkin\": \"autoplushkin\"\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n    getBundler().on('update', function() {\r\n        gulp.start('build-persistent')\r\n    });\r\n});\r\n\r\n// WEB SERVER\r\ngulp.task('serve', function () {\r\n    browserSync({\r\n        server: {\r\n            baseDir: './'\r\n        }\r\n    });\r\n});"]}